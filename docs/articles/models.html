<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> • sovereign</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="">
<meta property="og:description" content="sovereign">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sovereign</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href=".././index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-cog"></span>
     
    Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Regime Assignment</li>
    <li class="dropdown-header">Model Estimation</li>
    <li class="dropdown-header">Mdoel Analysis</li>
    <li class="divider">
    <li>
      <a href=".././reference/index.html">Function Documentation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-cogs"></span>
     
    Workflow
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Getting Started</li>
    <li>
      <a href=".././articles/getting_started.html">0. Introduction</a>
    </li>
    <li class="dropdown-header">1. Data</li>
    <li class="dropdown-header">2. Model Estimation</li>
    <li class="dropdown-header">3. Model Analysis</li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tylerJPike/sovereign">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="models_files/header-attrs-2.5/header-attrs.js"></script><link href="models_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="models_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip></h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tylerJPike/sovereign/blob/master/vignettes/models.Rmd"><code>vignettes/models.Rmd</code></a></small>
      <div class="hidden name"><code>models.Rmd</code></div>

    </div>

    
    
<div id="sovereign-state-dependent-empirical-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#sovereign-state-dependent-empirical-analysis" class="anchor"></a>sovereign: State-Dependent Empirical Analysis</h1>
<!-- badges: start -->
<p><a href="http://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg" alt="License: GPL v3"></a> <a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a> <a href="https://codecov.io/gh/tylerJPike/sovereign"><img src="https://codecov.io/gh/tylerJPike/sovereign/branch/main/graph/badge.svg?token=WXLWR6H93B" alt="codecov"></a> <a href="https://travis-ci.org/tylerJPike/sovereign"><img src="https://travis-ci.org/tylerJPike/sovereign.svg?branch=main" alt="Build Status"></a><br><!-- badges: end --></p>
<p>Take the general forecasting equation to be:</p>
<p><span class="math display">\[ \hat{Y_t} = E[Y_t | X_{t-1}] \]</span></p>
<p>where $  $ is the predicted outcome of interest, <span class="math inline">\(E\)</span> is the expectation operator, <span class="math inline">\(X\)</span> is the information set, and <span class="math inline">\(t\)</span> is the time index. Note that the expectation <span class="math inline">\(E\)</span> may be estimated by an loss-minimizing function - parametric or non-parametric. Then, let the process be state-dependent:</p>
<p><span class="math display">\[ \hat{Y_t} = E[Y_t | X_{t-1}, s_{t-1}] \]</span></p>
<p>where <span class="math inline">\(s\)</span> is a discrete, that is, mutually exclusive, state of the world. For example, in an economic context, one may consider expansions and recessions as two different states of the world, and in the US, these labels are formally declared by the NBER.</p>
<p>The sovereign package provides the tools and methods to solves this state-dependent forecasting problem. Using vector auto-regressions or direct projections, a user may create both single- and multi-state time series forecasts, and in turn, analyze the resulting models through impulse response functions and forecast error variance decomposition.</p>
<p>Available tools and techniques may be reviewed under the <strong>Tools</strong> tab. While vignettes and other extended documentation of the sovereign package’s capabilities may be found under the <strong>Workflow</strong> tab.</p>
<hr>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>One may install OOS through the package’s <a href="https://github.com/tylerJPike/sovereign">GitHub</a> page directly, or via either</p>
<pre><code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github('tylerJPike/sovereign')</a></code></pre>
<p>or</p>
<pre><code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github('tylerJPike/sovereign')</a></code></pre>
<hr>
</div>
<div id="basic-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-workflow" class="anchor"></a>Basic Workflow</h2>
<pre><code><a href="https://github.com/tylerJPike/sovereign"># load packages
library(sovereign)         # analysis
library(dplyr)             # general cleaning
library(lubridate)         # date functions

#-------------------------------------------
# create data
#-------------------------------------------
# pull and prepare data from FRED
quantmod::getSymbols.FRED(
    c('UNRATE','INDPRO','GS10'), 
    env = globalenv())

Data = cbind(UNRATE, INDPRO, GS10)

Data = data.frame(Data, date = zoo::index(Data)) %&gt;%
    filter(lubridate::year(date) &gt;= 1990) %&gt;% 
    na.omit()

# create a regime explicitly   
Data.threshold = Data %&gt;%
    mutate(mp = if_else(GS10 &gt; median(GS10), 1, 0))

#------------------------------------------
# learn regimes
#------------------------------------------
# assign regimes based on unsurpervised kmeans
#  (will not be used further)
regimes = 
    learn_regimes(
        data = Data, 
        regime.n = 3, 
        engine = 'kmeans')

#------------------------------------------
# single-regime var
#------------------------------------------
# estimate VAR
var =
    VAR(
        data = Data,
        p = 1,
        horizon = 10,
        freq = 'month')

# estimate IRF
irf =
    var_irf(
        var,
        bootstraps.num = 10,
        CI = c(0.05,0.95))

# plot IRF
irf_plot(irf)

# estimate forecast error variance decomposition
fevd =
    var_fevd(
        var,
        horizon = 10)

#-------------------------------------------
# multi-regime var
#-------------------------------------------
# estimate multi-regime VAR
tvar =
    threshold_VAR(
        data = Data.threshold,
        regime = 'mp',
        p = 1,
        horizon = 1,
        freq = 'month')

# estimate IRF
tvar.irf =
    threshold_var_irf(
        tvar,
        horizon = 10,
        bootstraps.num = 10,
        CI = c(0.05,0.95))

# plot IRF
# regime 1: low interest rates
irf_plot(tvar.irf[[1]])
# regime 2: high interest rates
irf_plot(tvar.irf[[2]])

# estimate forecast error variance decomposition
tvar.fevd =
    threshold_var_fevd(
        tvar,
        horizon = 10)

#-------------------------------------------
# local projections
#-------------------------------------------
# estimate single-regime forecasts 
#  (one or multiple horizons may be estimated)
lp = 
    LP(
        data = Data,
        p = 1,
        horizon = 1,
        freq = 'month')

# estimate single-regime IRF
lp.irf = lp_irf(lp)

# plot IRF
irf_plot(irf)

# estimate multi-regime IRF
tlp = 
    threshold_LP(
        data = Data,
        regime = 'mp',
        p = 1,
        horizon = 1,
        freq = 'month')

# estimate multi-regime IRF
tlp.irf = lp_irf(tlp)</a></code></pre>
<hr>
</div>
<div id="contact" class="section level2">
<h2 class="hasAnchor">
<a href="#contact" class="anchor"></a>Contact</h2>
<p>If you should have questions, concerns, or wish to collaborate, please contact <a href="https://tylerjpike.github.io/">Tyler J. Pike</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tyler J. Pike.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
